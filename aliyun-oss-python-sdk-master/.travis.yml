language: python
python:
- 2.6
- 2.7
- 3.3
- 3.4
- 3.5
install:
- pip install crcmod requests nose nose-cov python-coveralls pycryptodome aliyun-python-sdk-sts
  aliyun-python-sdk-kms
- pip install --upgrade mock
script:
- nosetests unittests/ --with-cov
- export OSS_TEST_AUTH_VERSION=v1
- if [ -n "$OSS_TEST_ACCESS_KEY_ID" ]; then travis_wait 30 nosetests -s tests/ --with-cov;
  fi
- export OSS_TEST_AUTH_VERSION=v2
- if [ -n "$OSS_TEST_ACCESS_KEY_ID" ]; then travis_wait 30 nosetests -s tests/ --with-cov;
  fi
after_success:
- coveralls
env:
  global:
  - secure: ctHLw7ZKNZVoNa2V0ayZC++Gd1X/yaXhGLRizrH9JlgO5XsT/Xmiq+qZxgyo3PJH9sol5CJNeoL5GwgXraGwWtwJuyc6Ro87OvhGLUZSNsF6kKhU3t5r9aeS31geRIeyuzt9ES1mooUrvPzC8nTwPdw8uuJbdnLDGm/eNYe/vijY3xHbhYWV8LbFlz5Kotq4CNO2HZATch66yGiECF5XEYjQYhVaZlE/ExHY9esSJFvUOfCuQhFi9v4Z8X69KRrTXQyen12yTYsw96bTaqj3eYO9jyy0u0f5cvLbMz9na8A51tUhVTJBwL2yWxuKSHkgVppmLbDTtRYxJb8wyRGmSyH0X7vKBVQ30mMZeXu9hWf2699tkf8ReTDWKDpp3H9fpQla4jDMRWVEbusdDa/d3o+tpWQl6a988JMIIGcYGvF4tXwIwuMoJwRetAI1uN7fFc+K0Cuz7sFaoJg7uQ3dny6RB08+4w0I3p/EQMLRMEL/Ds8PLSWl0A+QQffpjDI/2drATqKEHTI0OjiTLDziTuQeHCxL8Sb/il68c7yw2sI6UUwtIGNS8WhcCFTvfjcBPoIgXrldl2FEl8phx5RHDRzwZtTcpMA767iw8AvX1rhCS/uQlVXp0oNgoZ2+mM3k+t23txMnGtmQ85cKJg7uSTUTFNd+CfWTIvIK+TYjs30=
  - secure: H/nQaNA1mBI9mAKcgGdyI775BAckF2kKSTwBksB7oofdcFbsRdIgQvBtxCcNJytIb/B2s9KpEEQFSTOEbJauudqqJv44gjZKrBjK1FIZrRqUSCe2uRZXwCQnd0ZR9VBbYm25i5hd7yOrlDUuHGnT4DPOV4gbAbvLrJZ/ph8dW//6iafGcSOzarCjOnd9bsYqINtIaXiJoT/HPOhEVX4P/q2J3G5321N6qlyRT3PztIho7g13R2B6e44ablWYFuVjiky/OdhIiKzs6iYb+8JiKMXh/yxo7cn9w8+HVDtokrHjK5L78KZTtckwxf9B0dZGfBfcNQWaztEw7lsWVsS4N7sVJF04QDMF+9bj3wwu0YZ1+6NP0NvRcfIHCezAH04HsIibxQ0OkCxO5O3HlrIBmyDZeZxJRnNcZi8TEKc7i2Yl9CpoZ/BXQGH6cVd8U+ievtJr8am319WBDPquybvNeUMlx64/c4MRf8f6bZyCLQUcwOKvr2Bz031DcJAIJTfqOwxS+MGpm1DViQQomzVEN3Ak1zOWlhhXSnOXEmfMjl80nc0g7+srm4MuBjSimzJHXNqNfxBhLXC2D6kH+R2+VIMg76v73sZBKKYwuUvaZz30jAfBCbQk0gJxWSu9hPtrx3fHg6xyaC3L91mFxbzLs1AIcsOPJ5tlXwcyy+c0cNU=
  - secure: gSGLnP60qPk/bHR5zeJ4tYesMNGuVZ0PY7fiiJfxT2GykaGrbzroLqIcvKXg8Y2mSgyEmS9jJv4/jZt/0lv21cYpQ4SYJTTzAh9/BqxNlPDyjQmRtPbaiiL7xz6H8SHGo3SpGmJoKwEFHdd3fAIgCiK69XiOoy8RH4jGOQ//jblXhT5hbB+UIrJJ3k1L+/oHGF38/kNQkRjuR6tiewqB6k/PRWgZJVJyBvM0nfejyEpUJeCnMSzu7/h0gzTEq2MaQZ2nvFZSJ2j7G9xlL4jGWV9nW8GYr+tcivrUvYNXyARafhg2Y9CPf6rchTqRxb7+8o+Nvfu29C44T/DHqZ3OitUYOleb7wR2a4BZP9FOvS7c2RCYxFnWK5t0UrFMdka4RaPJiIkhi4Y+c56bvmmpnUrIC97F9wf+luJf8h4bNg3zRHuleMTgzTFiyVB3kiO2oQ7/dtZQHBgidYQQI3WjRUgOFKKpPdAfo7+4xm1aIqmsSltotO4qGcUiZ7rMz0fxNTF8ZElN6kkGcWtJIGDFbAkxqf0nxC5AcrLi84D7xuR4Uc2fRxAAnyLEnnC1ox/jjMXijiBOvDWKp0kE8xmnwu61K/lGr4zWliubI33528fPhWuhoamgZNyBzOoCBh+PO47DyU9RPpKcBvCVd643w8jGXmHifJDVDqURfWKuJA0=
  - secure: ntp1isjiashF4FeSLKX3nNXYh2TNIcwuY6h/3YInh0bHlJbS6k0uyulyRNON6loAEuk22yF77OQZVYAFVkKfsVybcDY6aB96J6CTmobg0TEP/mtMCnI/mxtUsSLX/A8g+7Y9g4GX4KNeXSlDB9F7tIu3cwJJIgbowX5tpfzk8qKymgY8/TnnTZhsBgBl8RO7O5cFj/501Ts0kbXhkn5kQb+oTSdHbEzebkVeA1s7P8ejfVPLzPyXTgUgYwusgp4o4NIBdw41O6LuUZb4M6JNJG81fUq3x66axAqQJcmVuG+GcGc5gDVxa7fj0Mvbunj8ek/jK8QDJdM0IrNCf7sUIdvdTvtoCTM/9YG2D/VDMrJrbqZq7d9fJ557C8mcfdbm5FYKQ7LKrc7H6NQ8E7fZtqDTc0uFXNr0ULCZjbZwE8nC8cBquXC9VStiuz2vEb/BlzQPvEWXIepIg3Zg9Z//7iexKtC7WpQX+bopmLAhBhi3Yd+pWNPwhXc+emmBWmnjXrNKtDufieUsTSNpTozRRT4eHldL0P66kLT9TPdv1YfTNHcqt3sJPHEmZA+IOoi/N4RPpEqJqFaZNyg4Zr2Ce4GZww3O/mIg8eFZBwDLb69KMtI4ppi2LFoTMYs8ZgcuO/hBEmDToPuNyOGaWUswhu8UtajCMCyzHqN0PgtkkDQ=
  - secure: g8ulc7Hhvm7D8ek3oqKuFTF30ScZJnDvd5u3O1Eb/2SzpaSvO5XP+FaEbomdhdB2VJ1eS8qcQPIN1v36VaD+5QIq2Nslih1PrHLrB1iugGDgOngIXXENkg5CNJdABg068VesVUFUnKP4+K45OGoOJa+MbPX/az21WNutY3YDAZCM3rhwMuphWQk7tzQqHVSg7wn7gdD3oN5s7upaP0Q3A3+yhkdaiosbR09dFBWVfEiyB8mYhwy0L/Zj9sGl2gvPxD++we4Iugb/exppelFeYOYkPuu3airFPC0eg+1jZLWDwQpAu5gFpXpSFicI9386vJgdVFXywB8RK0dW+w+O+X8et0tdrlwhXBhotCCkvNcYVcR3bxu6I0jp3v6eZhs3Z5J44eQpDN2ItCAkT7TXDaSmrWJ0oLGGneXWXOOAtXCwYElOfS0WgVM3EYRZYEPMt4TD31Buyu8z707geLImRHy3ZwVhl84V/zc38BwvrNlLeY0UY2m67bYecqiiqjgLDYBYM9UhET2oNAtFTcH+j6s2bDvbMVlqomuvoBSANItP6+CFVb2nroTGp0rIyg8QR5rE5vl2dlzUrqXYHcvYochZselQlzbUzArdDBu5SEVMpTO50kwVhKH4g/5WCqhLT4QnApBqQIJ5OJJijHGpqztcd+U24RjCTVF9Eu4LAd0=
  - secure: GIdTrgApGlS3iacvcQBNe6jH2FBZ8fxB92g01d8QYzEYkn8vdORreib7SI2zALCWDIC2mVLUx7kP512HGfwKM/QMMwIlRY4rxLJASZ+Sr6PNYlLX9JNO4LGnJMKYa4pleEfLPwcSjNvrcFAL9qszT/Rj5ADkzBnYm6f45EpgWhHg6WVT0OJOICzSEu8Ey1Autq0YWceLEaGTTVhG7oI+ZYEriHNGAXaNyiYHFNgFvcN+2sZ5FDiwTBCc3T2jOuvVZT86UcPoBCptR6mD8EDamBfqVFW1B25vAxN6X5a+e+TzGAKvqufgbIZqSFeV97DIUrAHHfmY4vd9KU7LcqOLyzpbUrzdn38uRU4fp0Y9nK5G90pH5YKyA2qRgb3R7RbTwaowrPFow408OKyN12Qevpiw86fC6mEVPwIM6PYNSM0cU6E7ZKgojDAwCmA1TWbZWd8MkGuR4JddDcbEqzlD0RiBd3Lf6/DwbY80U6/gbHnBKhHxaFdaaNu1VCoKnhtzLldlI6KR4KwJ8bQEXTT+PkC7e5RKq6lFg9TiJInrwqRPCOhl8IHQQz90fApgDTLsIptXvs+n22tC7rLVRaSEiOJRi2S/42p7JWqSic8KIjOS53pVuFk4I0i0ZRDk/ClT7moi/NbD15QeNYwl6M6gkJvVPPqxAO+nkEK6jsOD1Ns=
  - secure: mJK7lGO4qC2bd12yDYdDJmzdolwt0oJOWnPHj7/D+00lkbRr0wvw8uffH280P/+7ZfhwffG1ewi1LvF7C8BR6YMffte52uMEmFwHIbwhnhD8MIAWuKa8BM6rxaTkxy0mJOQuWnhXVSZ/6g1RUfMG0f/YVr0pXSAVbFbny+SZfz1iS9yn3csC984e2i8bij7yflALSNrZc6bmfUy8BcJaeyLUdTAlgDhfVBrqzjpUD97xogx99OGxxOjhOnwFbWHIpPMw58GguN+DddtZ7fVSweNhyTKRY9sk9qN4STuLMqV4hqE+KZl4Fnw+hcTQBR+eDNyn3FaBoMW1aCVqHFw2GnnJyv+D18QKD+RYZuSWJBMx/bkY4OGNpB8vAjFiWyAzeQbrSxtDJ+2JrE5h7YMPe1Zo5mVNBFjNTgGKEOwfH95WUfUj2mnHvaijFPKWBGECN/GsiH5/HXlqf1d/TPlRn6k3M8RPdQLdLga+sZkjoPHbMm2TVd2s8RErpa6yjQCNBZmHeqTosZK3B55hNN7+izuw78QDMEND9V97tLkkxuQAyBq4qKvmdUYUh2y5XLndNCrVDM7ndKjxzTKk9rIB37U72+cxPFWEMT7ICIdGo6IS000NV4DEq9dDNsCnMtXXROVvphDe3r8GFT4oWG4erkSOnX9vi9e2/dx9zyNjFdk=
  - secure: ELFYoTRfvUM9P02W4Jnh5uXIe+oLL1CpR8kTJI1TYqQ2YVUoujxzKJGGCHzg6L62xwYLCFgnE0t9PK8T2U91mvW4hK4MHE9PxyqTyAX6vuVUVb/bNd9zCVc+T6fTfQ/Z/htwiNW/lp1yiPwOZdybONQACnpD2/Msw1bu/ytt1v+lWYQg80YexgAoJUrOOBadO6lDZqeIUziQo/0JJMhUoJA0jPS79FLP0foXfOKKDfVIm+J7DhcRGsc2goAOaCDrsynlW/zM/XPYBnyutSPgVR+rC8g3ReMSZOX6rq1PfRIXDjB/LVLMx75MO7u+vAFUOqBS5an05CGSwCbAUhxiM8QaF3qD/UnE9bFVksFv0TPvWeZpMlf8Pll6tEmo01SmlrfeUVFYgxwiPkA/l1bW+zMB46bUz35oTVJLJ6am2Fx/fxVeE19do1yiFWRmmwpsl1ya27mVc2jLmS9duYUbTKExZJF6vBU8m8W8WquWxKRxogNNVTX52EvelDTCbR6UE3uZ7NL/VJqrT4b8V754Dl8TyX2LehC0sKKTO7FqliPJmeG3S874wOVW0Qzy3UnjRSB1XUCbFn4bkT2CvhTx4xJIJFQHfzeUIUYADn3/MpXaruXmjrq413ZTKZ+a2d2eKjf4aJBfGC0j9Hd83S23rlDlS4rDENu3aVaytwE8xd0=
  - secure: bUUTeIOSWxvhwGVCynhIK4SAHA5EIc2wWU6wKFV89/AesLb5VgOXvrtpsoamK8JH2QgiAqrcaM4g8b5299zJGRpu67FEg7e/lySAZcbpkDHJvC+YcEPf6NaLh9Ixx8ynzAA7yQkPIekvzPExxhjxcBc2j2Y9QZTYEFw8rY6T1XQjzVf3bc19J930KVUWzl9gG6X9sxO/Qdb4WF/ii87LWLId0EoGloSGA2tqZuhPH8fog1mYAz1FdqHVdtDKQkIQTvMydzaPPkreC18GYK7xRW+Ag0Uv3FDsWPbXbYZCWMbwtgqXM54SPMo43ksVsGQS6tgZBowrOFTYK/ivIy24QhNamFzoYsSvkbzLwLsRPN0h3abTU9oXc4qQ0GPTBsR5B3WFcO3avt8vyWv6Z9WUOvDnZhmWZZpT8ZXGoDbxSQ4y60iu/z1WEynRacu4R3PU/lHs742VY3H+LggIbAK3y2K18ogsIZw3IMVExkoHeTpSC+0igNxBbimBZQsu0ijbrUbgP6naEt7dMji+MuiqRrQtMqZQHwK8WQMiX4oe90Ori8GZ3Jj6icO75W8h9f6+mTdpe2je5O0HkB5Cr5LFxEBroxypKAUpSErTr6H520EI8vtRMyAjTEgwRTNo6JSqLFnREuGqaAMyYvZICMEmS8Xoer2ZXRQ6jRXDOr4MwkI=